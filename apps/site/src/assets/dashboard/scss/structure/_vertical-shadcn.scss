// ================================
// Vertical Navigation - shadcn/ui Enhanced
// ================================
// Note: shadcn variables and mixins are imported in app.scss

// Enhanced Main Nav with shadcn design tokens
.wrapper .main-nav {
  background: hsl(var(--card));
  border-right: 1px solid hsl(var(--border));
  box-shadow: var(--shadow-sm);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  // Menu Title with shadcn styling
  .menu-title {
    color: hsl(var(--muted-foreground));
    font-size: 0.6875rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    padding: var(--spacing-3) var(--spacing-4);
    margin-top: var(--spacing-2);
  }

  // Navigation Items
  .navbar-nav {
    .nav-item {
      .nav-link {
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        color: hsl(var(--foreground) / 0.8);
        border-radius: var(--radius-md);
        padding: var(--spacing-3) var(--spacing-4);
        margin: var(--spacing-1) 0;
        font-weight: 500;
        font-size: 0.875rem;

        &:hover {
          background-color: hsl(var(--accent));
          color: hsl(var(--foreground));
        }

        &.active {
          background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.9) 100%);
          color: white;
          font-weight: 600;
          box-shadow: var(--shadow-md);

          .nav-icon {
            color: white;
          }

          .menu-arrow {
            color: white;
            opacity: 1;
          }
        }

        &[aria-expanded="true"] {
          background-color: hsl(var(--accent));

          .menu-arrow {
            transform: rotate(-180deg);
            color: hsl(var(--accent-foreground));
          }
        }

        .nav-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 1.25rem;
          height: 1.25rem;
          color: hsl(var(--muted-foreground));
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .badge {
          display: inline-flex; align-items: center; border-radius: var(--radius); padding: 0.125rem var(--spacing-2); font-size: 0.75rem; font-weight: 600;
          margin-left: auto;
          font-size: 0.625rem;
          padding: 0.125rem var(--spacing-2);

          &.bg-danger {
            background-color: hsl(var(--destructive)) !important;
            color: hsl(var(--destructive-foreground)) !important;
          }

          &.bg-primary {
            background-color: hsl(var(--primary)) !important;
            color: hsl(var(--primary-foreground)) !important;
          }

          &.bg-success {
            background-color: #10B981 !important;
            color: white !important;
          }

          &.bg-warning {
            background-color: #F59E0B !important;
            color: white !important;
          }
        }

        .menu-arrow {
          color: hsl(var(--muted-foreground));
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
      }
    }
  }

  // Sub Navigation
  .sub-navbar-nav {
    .sub-nav-item {
      .sub-nav-link {
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        color: hsl(var(--muted-foreground));
        border-radius: var(--radius);
        font-size: 0.8125rem;
        padding: var(--spacing-2) var(--spacing-4);
        margin-left: var(--spacing-6);
        position: relative;

        &::before {
          content: "";
          position: absolute;
          left: calc(var(--spacing-4) * -1 + 8px);
          top: 50%;
          transform: translateY(-50%);
          width: 4px;
          height: 4px;
          border-radius: 50%;
          background-color: hsl(var(--muted-foreground));
          opacity: 0.4;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        &:hover {
          color: hsl(var(--foreground));
          transform: translateX(4px);

          &::before {
            background-color: hsl(var(--primary));
            opacity: 1;
          }
        }

        &.active {
          color: hsl(var(--primary));
          font-weight: 600;

          &::before {
            background-color: hsl(var(--primary));
            opacity: 1;
            width: 6px;
            height: 6px;
          }
        }
      }
    }
  }
}

// Logo Box Enhanced
.logo-box {
  border-bottom: 1px solid hsl(var(--border));
  background: hsl(var(--card));
  padding: var(--spacing-4);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  h4 {
    color: hsl(var(--foreground));
    font-weight: 600;
  }
}

// Hover Toggle Button
.button-sm-hover {
  display: inline-flex; align-items: center; justify-content: center; background-color: transparent; border: 1px solid transparent;
  height: 2.25rem; padding: 0 var(--spacing-3); font-size: 0.8125rem;
  width: 2rem;
  height: 2rem;
  padding: 0;
  border-radius: 50%;

  &:hover {
    background-color: hsl(var(--accent));
  }

  .button-sm-hover-icon {
    width: 1.25rem;
    height: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

// Page Content Enhanced
.page-content {
  background-color: hsl(var(--background));
  border-right: 1px solid hsl(var(--border));
}

// Condensed Mode
html[data-menu-size="condensed"] {
  .main-nav {
    .nav-link {
      justify-content: center;

      .nav-icon {
        font-size: 1.25rem !important;
      }
    }

    // Tooltip-style expanded menu on hover
    .nav-item:hover > .nav-link > .nav-text {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      box-shadow: var(--shadow-lg);
      color: hsl(var(--foreground));
    }

    // Sub menu dropdown
    .nav-item:hover > .collapse,
    .nav-item:hover > .collapsing {
      > .sub-navbar-nav {
        background: hsl(var(--card));
        border: 1px solid hsl(var(--border));
        box-shadow: var(--shadow-lg);

        .sub-nav-link {
          color: hsl(var(--foreground));

          &:hover,
          &.active {
            color: hsl(var(--primary));
            background-color: hsl(var(--accent));
          }
        }
      }
    }
  }
}

// Small Hover Mode
html[data-menu-size="sm-hover"] {
  .main-nav:not(:hover) {
    .nav-link .nav-icon {
      color: hsl(var(--muted-foreground));
    }

    .nav-link.active .nav-icon {
      color: hsl(var(--primary));
    }
  }

  .main-nav {
    border-right: 1px solid hsl(var(--border));
  }
}

// Dark Mode Adjustments
html[data-bs-theme="dark"],
html[data-menu-color="dark"] {
  .main-nav {
    background: hsl(var(--card));
    border-right-color: hsl(var(--border));

    .nav-link {
      color: hsl(var(--foreground));

      &:hover {
        background-color: hsl(var(--accent));
        color: hsl(var(--accent-foreground));
      }

      &.active {
        background-color: hsl(var(--primary));
        color: hsl(var(--primary-foreground));
      }
    }
  }

  .logo-box {
    border-bottom-color: hsl(var(--border));
  }
}

// Sidebar Footer (if exists)
.sidebar-footer {
  border-top: 1px solid hsl(var(--border));
  padding: var(--spacing-4);
  background: hsl(var(--card));
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

// Mobile Responsive
@media (max-width: 1200px) {
  html[data-menu-size="hidden"] {
    .main-nav {
      box-shadow: var(--shadow-xl);
    }

    &.sidebar-enable {
      .main-nav {
        border-right: 1px solid hsl(var(--border));
      }
    }
  }
}

// Scrollbar Styling with shadcn colors
.main-nav {
  .simplebar-scrollbar::before {
    background-color: hsl(var(--muted-foreground));
    opacity: 0.3;
    border-radius: var(--radius);
  }

  &:hover .simplebar-scrollbar::before {
    opacity: 0.5;
  }
}
