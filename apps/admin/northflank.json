{
  "name": "coworking-admin",
  "type": "service",
  "runtime": {
    "type": "nextjs",
    "version": "14"
  },
  "build": {
    "context": ".",
    "dockerfile": null,
    "buildCommand": "pnpm install --frozen-lockfile && pnpm --filter @coworking-cafe/database build && pnpm --filter @coworking-cafe/email build && pnpm --filter @coworking-cafe/shared build && pnpm --filter @coworking-cafe/admin-shared build && pnpm --filter @coworking-cafe/admin build",
    "startCommand": "pnpm --filter @coworking-cafe/admin start"
  },
  "port": 3001,
  "resources": {
    "cpu": 0.25,
    "memory": 512
  },
  "replicas": 1,
  "healthCheck": {
    "path": "/api/health",
    "interval": 30,
    "timeout": 10
  },
  "environmentVariables": {
    "NODE_ENV": "production",
    "NEXT_PUBLIC_SOCKET_URL": "${SOCKET_URL}",
    "NEXT_PUBLIC_SITE_URL": "${SITE_URL}",
    "MONGODB_URI": "${MONGODB_URI}",
    "NEXTAUTH_URL": "${ADMIN_URL}",
    "NEXTAUTH_SECRET": "${NEXTAUTH_SECRET}",
    "JWT_SECRET": "${JWT_SECRET}",
    "STRIPE_SECRET_KEY": "${STRIPE_SECRET_KEY}",
    "VAPID_PUBLIC_KEY": "${VAPID_PUBLIC_KEY}",
    "VAPID_PRIVATE_KEY": "${VAPID_PRIVATE_KEY}"
  }
}
